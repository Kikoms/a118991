# Node.js 金流串接示範（無資料庫版）

此專案示範如何以 Node.js 建立簡單的金流管理後台與前台付款頁面。後台可設定歐買尬、藍新、綠界三種金流，並在前台依照預設金流
跳轉到對應的付款網址。為了方便在教學或示範環境使用，資料會儲存在專案目錄下的 JSON 檔案，不需額外安裝 MySQL。

## 功能總覽

- 後台管理頁面 `/admin`
  - 選擇金流平台並填寫商店名稱、金鑰等資訊
  - 儲存設定並可直接設為預設金流
  - 顯示目前的預設金流資訊
- 前台付款頁面 `/`
  - 輸入金額、描述等資訊
  - 呼叫 API 產生訂單後自動跳轉到預設金流的付款網址
- RESTful API
  - `GET /api/providers`：取得所有金流設定
  - `POST /api/providers`：新增或更新金流設定
  - `GET /api/active-provider`：取得目前預設金流
  - `POST /api/active-provider`：設定預設金流
  - `POST /api/payments`：建立訂單並回傳要導向的付款網址

## 環境需求

- Node.js 18+

## 安裝步驟

1. 安裝相依套件

   ```bash
   npm install
   ```

2. 啟動伺服器

   ```bash
   npm start
   ```

3. 於瀏覽器開啟

   - 前台：<http://localhost:3000/>
   - 後台：<http://localhost:3000/admin>

首次啟動時會自動在 `data/payment_providers.json` 建立金流設定檔案。若要重設資料，可刪除該檔案重新啟動伺服器。

## 注意事項

- 金流付款網址為示範用途，請填入各平台提供的正式或測試環境網址。
- `/api/payments` 僅回傳需導向的網址，實際串接需依各平台文件產生必要的簽名與欄位。
- 本範例未實作身分驗證，請自行加上權限管理以保護後台。
